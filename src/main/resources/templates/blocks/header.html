<div th:fragment="header">
    <nav class="navbar navbar-expand-md navbar-light bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">WeatherForecast</a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Погода</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Блог</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">О нас</a>
                    </li>
                </ul>
                <div class="navbar-text ms-md-auto d-flex justify-content-between">
                    <!-- Проверяем, авторизован ли пользователь -->
                    <th:block th:if="${#httpServletRequest.remoteUser eq null}">
                        <a href="/login" class="btn btn-secondary me-2">Вход</a>
                        <a href="/signUp" class="btn btn-light">Регистрация</a>
                    </th:block>

                    <!-- Если пользователь авторизован -->
                    <th:block th:if="${#httpServletRequest.remoteUser ne null}">
                        <a href="/user/profile" class="btn btn-light me-2" th:text="${#httpServletRequest.remoteUser}">Username</a>
                        <form th:action="@{/logout}" method="post">
                            <input type="hidden" name="_csrf" value="${_csrf.token}"/>
                            <button type="submit" class="btn btn-danger text-light">Выйти</button>
                        </form>
                    </th:block>
                </div>
            </div>
        </div>
    </nav>
    <link id="darkThemeStylesheet" rel="stylesheet" href="/css/darkTheme.css">
    <link id="lightThemeStylesheet" rel="stylesheet" href="/css/lightTheme.css">
    <script src="/js/switchTheme.js" th:src="@{/js/switchTheme.js}"></script>
</div>
